{{ 'premium-landing-styles.css' | asset_url | stylesheet_tag }}

<section class="premium-section premium-bg-gradient" style="background: transparent;">
  <div class="premium-container">
    
    <!-- Section Header -->
    {% assign eyebrow_visible = false %}
    {% if section.settings.eyebrow_text != blank and section.settings.eyebrow_font_size != 'none' %}
      {% assign eyebrow_visible = true %}
    {% endif %}
    
    {% assign heading_visible = false %}
    {% if section.settings.heading_font_size != 'none' %}
      {% assign heading_visible = true %}
    {% endif %}
    
    {% assign description_visible = false %}
    {% if section.settings.description != blank and section.settings.description_font_size != 'none' %}
      {% assign description_visible = true %}
    {% endif %}
    
    {% assign show_header = false %}
    {% if eyebrow_visible == true or heading_visible == true or description_visible == true %}
      {% assign show_header = true %}
    {% endif %}
    
    {% if show_header == true %}
      <div style="text-align: center; margin-bottom: 80px;">
      {% if eyebrow_visible == true %}
        <p class="premium-text premium-animate fade-in-up eyebrow-{{ section.settings.eyebrow_font_size | default: 'medium' }}" style="color: var(--premium-accent); font-weight: 600; text-transform: uppercase; margin-bottom: 16px;">
          {{ section.settings.eyebrow_text }}
        </p>
      {% endif %}
      
      {% if heading_visible == true %}
        <h2 class="premium-subheading premium-animate fade-in-up delay-1 heading-{{ section.settings.heading_font_size | default: 'medium' }}">
          {{ section.settings.heading | default: "なぜ選ばれるのか" }}
        </h2>
      {% endif %}
      
      {% if description_visible == true %}
        <p class="premium-text-large premium-animate fade-in-up delay-2 description-{{ section.settings.description_font_size | default: 'medium' }}" style="max-width: 600px; margin: 0 auto;">
          {{ section.settings.description }}
        </p>
      {% endif %}
      </div>
    {% endif %}
    
    <!-- Features Grid/Slider -->
    {% assign columns = section.settings.columns | default: 3 %}
    {% assign use_slider = false %}
    {% if section.blocks.size > columns %}
      {% assign use_slider = true %}
    {% endif %}
    
    {% if use_slider %}
      <div class="premium-slider premium-animate fade-in-up delay-3" 
           data-items-to-show="{{ columns }}" 
           data-autoplay="{{ section.settings.autoplay }}" 
           data-autoplay-delay="{{ section.settings.autoplay_delay | default: 5000 }}">
    {% else %}
      <div class="premium-features-grid premium-animate fade-in-up delay-3" 
           style="display: grid; grid-template-columns: repeat({{ columns }}, 1fr); gap: 30px;" 
           data-columns="{{ columns }}">
    {% endif %}
      
      {% if use_slider %}
        <div class="premium-slider-track" data-stagger="100">
      {% endif %}
      
        {% for block in section.blocks %}
          {% if use_slider %}
            <div class="premium-slider-item">
          {% endif %}
            <div class="premium-card premium-feature-card" 
                 style="height: 100%; text-align: center; transition: all 0.3s ease;" 
                 {{ block.shopify_attributes }}
              
              <!-- Icon or Image -->
              {% if block.settings.icon_image != blank %}
                <div style="margin-bottom: 30px;">
                  <img src="{{ block.settings.icon_image | img_url: '120x120' }}" 
                       alt="{{ block.settings.title }}" 
                       style="width: 80px; height: 80px; object-fit: contain; margin: 0 auto; filter: brightness(0) invert(1);">
                </div>
              {% elsif block.settings.icon_svg != blank %}
                <div style="margin-bottom: 30px; color: var(--premium-accent);">
                  {{ block.settings.icon_svg }}
                </div>
              {% else %}
                <!-- Default icon based on feature type -->
                <div style="margin-bottom: 30px; color: var(--premium-accent);">
                  {% case forloop.index %}
                    {% when 1 %}
                      <svg width="60" height="60" viewBox="0 0 24 24" fill="none">
                        <path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" fill="currentColor"/>
                      </svg>
                    {% when 2 %}
                      <svg width="60" height="60" viewBox="0 0 24 24" fill="none">
                        <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2"/>
                      </svg>
                    {% when 3 %}
                      <svg width="60" height="60" viewBox="0 0 24 24" fill="none">
                        <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" stroke="currentColor" stroke-width="2" fill="currentColor"/>
                      </svg>
                    {% else %}
                      <svg width="60" height="60" viewBox="0 0 24 24" fill="none">
                        <path d="M12 2L15.09 8.26L22 9L15.09 9.74L12 16L8.91 9.74L2 9L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" fill="currentColor"/>
                      </svg>
                  {% endcase %}
                </div>
              {% endif %}
              
              <!-- Title -->
              <h3 style="font-size: 1.5rem; font-weight: 600; color: var(--premium-text-primary); margin-bottom: 16px; line-height: 1.3;">
                {{ block.settings.title | default: "特徴 " | append: forloop.index }}
              </h3>
              
              <!-- Description -->
              {% if block.settings.description != blank %}
                <p class="premium-text" style="margin-bottom: 24px; line-height: 1.6;">
                  {{ block.settings.description }}
                </p>
              {% endif %}
              
              <!-- Link -->
              {% if block.settings.link_text != blank and block.settings.link_url != blank %}
                <a href="{{ block.settings.link_url }}" 
                   style="color: var(--premium-accent); text-decoration: none; font-weight: 600; display: inline-flex; align-items: center; transition: var(--premium-transition);"
                   onmouseover="this.style.color='var(--premium-accent-hover)'"
                   onmouseout="this.style.color='var(--premium-accent)'">
                  {{ block.settings.link_text }}
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="margin-left: 8px; transition: var(--premium-transition);">
                    <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              {% endif %}
              
              <!-- Stats/Numbers -->
              {% if section.settings.show_stats and block.settings.stat_number != blank %}
                <div style="margin-top: 30px; padding-top: 24px; border-top: 1px solid rgba(255, 107, 53, 0.2);">
                  <div style="font-size: 2rem; font-weight: 700; color: var(--premium-accent); margin-bottom: 8px;" 
                       data-counter="{{ block.settings.stat_number }}" 
                       data-prefix="{{ block.settings.stat_prefix }}" 
                       data-suffix="{{ block.settings.stat_suffix }}">
                    {{ block.settings.stat_prefix }}0{{ block.settings.stat_suffix }}
                  </div>
                  {% if block.settings.stat_label != blank %}
                    <p style="font-size: 0.9rem; color: var(--premium-text-secondary); margin: 0;">
                      {{ block.settings.stat_label }}
                    </p>
                  {% endif %}
                </div>
              {% endif %}
              
            </div>
          {% if use_slider %}
            </div>
          {% endif %}
        {% endfor %}
      
      {% if use_slider %}
        </div>
      {% endif %}
      
      <!-- Navigation -->
      {% if use_slider and section.blocks.size > columns %}
        <button class="premium-slider-nav prev" aria-label="前へ">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button class="premium-slider-nav next" aria-label="次へ">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
        <!-- Dots -->
        {% if section.settings.show_dots %}
          <div class="premium-slider-dots"></div>
        {% endif %}
      {% endif %}
    </div>
    
    <!-- CTA Button -->
    {% if section.settings.show_cta == true and section.settings.cta_text != blank %}
      <div style="text-align: center; margin-top: 60px;">
        <a href="{{ section.settings.cta_url | default: '#' }}" 
           class="premium-btn premium-animate fade-in-up delay-4 cta-{{ section.settings.cta_font_size | default: 'medium' }}">
          {{ section.settings.cta_text }}
        </a>
      </div>
    {% endif %}
    
  </div>
</section>

<style>
/* Hidden Elements */
.eyebrow-none,
.heading-none,
.description-none {
  display: none !important;
}

/* Font Size Variations */
.eyebrow-small { font-size: 0.75rem !important; letter-spacing: 1px !important; }
.eyebrow-medium { font-size: 0.9rem !important; letter-spacing: 2px !important; }
.eyebrow-large { font-size: 1.1rem !important; letter-spacing: 2.5px !important; }
.eyebrow-extra-large { font-size: 1.3rem !important; letter-spacing: 3px !important; }

.heading-small { font-size: 1.8rem !important; line-height: 1.3 !important; }
.heading-medium { font-size: 2.2rem !important; line-height: 1.3 !important; }
.heading-large { font-size: 2.8rem !important; line-height: 1.2 !important; }
.heading-extra-large { font-size: 3.5rem !important; line-height: 1.1 !important; }

.description-small { font-size: 0.9rem !important; line-height: 1.6 !important; }
.description-medium { font-size: 1.1rem !important; line-height: 1.6 !important; }
.description-large { font-size: 1.3rem !important; line-height: 1.5 !important; }
.description-extra-large { font-size: 1.5rem !important; line-height: 1.4 !important; }

.cta-small { font-size: 0.9rem !important; padding: 12px 24px !important; }
.cta-medium { font-size: 1rem !important; padding: 15px 30px !important; }
.cta-large { font-size: 1.1rem !important; padding: 18px 36px !important; }
.cta-extra-large { font-size: 1.2rem !important; padding: 21px 42px !important; }
/* Custom adjustments for features section */
.premium-features .premium-slider-item {
  padding: 0 15px;
}

.premium-features .premium-card:hover .premium-text {
  color: var(--premium-text-primary);
}

/* Grid responsive adjustments */
.premium-features-grid[data-columns="4"] {
  grid-template-columns: repeat(4, 1fr);
}

.premium-features-grid[data-columns="3"] {
  grid-template-columns: repeat(3, 1fr);
}

.premium-features-grid[data-columns="2"] {
  grid-template-columns: repeat(2, 1fr);
}

.premium-feature-card:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow: 0 15px 35px rgba(255, 107, 53, 0.15);
}

.premium-feature-card:active {
  transform: translateY(-2px) scale(1.01);
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
  .premium-features-grid {
    grid-template-columns: 1fr !important;
    gap: 20px !important;
  }
  
  .premium-slider .premium-slider-track {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 20px;
    transform: none !important;
  }
  
  .premium-slider-nav {
    display: none !important;
  }
  
  .premium-slider-dots {
    display: none !important;
  }
}

@media (max-width: 1024px) and (min-width: 769px) {
  .premium-features-grid[data-columns="4"],
  .premium-features-grid[data-columns="3"] {
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  .premium-slider .premium-slider-item {
    flex: 0 0 50% !important;
  }
}
</style>

{{ 'premium-landing-scripts.js' | asset_url | script_tag }}

<script>
// Enhanced features interactions
document.addEventListener('DOMContentLoaded', function() {
  
  // Dynamic grid adjustments
  const featuresGrid = document.querySelector('.premium-features-grid');
  if (featuresGrid) {
    const columns = featuresGrid.dataset.columns;
    
    // Add staggered animation to grid items
    const gridItems = featuresGrid.querySelectorAll('.premium-feature-card');
    gridItems.forEach((item, index) => {
      item.style.animationDelay = `${index * 0.1}s`;
      item.classList.add('premium-animate', 'fade-in-up');
    });
  }
});
</script>

{% schema %}
{
  "name": "Premium Features",
  "target": "section",
  "tag": "section",
  "class": "premium-features",
  "settings": [
    {
      "type": "header",
      "content": "セクション設定"
    },
    {
      "type": "text",
      "id": "eyebrow_text",
      "label": "アイブロウテキスト",
      "default": "FEATURES"
    },
    {
      "type": "select",
      "id": "eyebrow_font_size",
      "label": "アイブロウテキストサイズ",
      "options": [
        { "value": "none", "label": "無し" },
        { "value": "small", "label": "小" },
        { "value": "medium", "label": "中" },
        { "value": "large", "label": "大" },
        { "value": "extra-large", "label": "特大" }
      ],
      "default": "medium"
    },
    {
      "type": "textarea",
      "id": "heading",
      "label": "見出し",
      "default": "なぜ選ばれるのか"
    },
    {
      "type": "select",
      "id": "heading_font_size",
      "label": "見出しサイズ",
      "options": [
        { "value": "none", "label": "無し" },
        { "value": "small", "label": "小" },
        { "value": "medium", "label": "中" },
        { "value": "large", "label": "大" },
        { "value": "extra-large", "label": "特大" }
      ],
      "default": "medium"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "説明文",
      "default": "私たちの商品が選ばれる理由をご紹介します。品質、機能性、デザイン、すべてにおいて妥協のない商品づくりを心がけています。"
    },
    {
      "type": "select",
      "id": "description_font_size",
      "label": "説明文サイズ",
      "options": [
        { "value": "none", "label": "無し" },
        { "value": "small", "label": "小" },
        { "value": "medium", "label": "中" },
        { "value": "large", "label": "大" },
        { "value": "extra-large", "label": "特大" }
      ],
      "default": "medium"
    },
    {
      "type": "header",
      "content": "レイアウト設定"
    },
    {
      "type": "select",
      "id": "columns",
      "label": "一画面あたりの表示数",
      "options": [
        { "value": "2", "label": "2列" },
        { "value": "3", "label": "3列" },
        { "value": "4", "label": "4列" }
      ],
      "default": "3"
    },
    {
      "type": "header",
      "content": "スライダー設定"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "自動再生",
      "default": true
    },
    {
      "type": "range",
      "id": "autoplay_delay",
      "label": "自動再生間隔（ミリ秒）",
      "min": 2000,
      "max": 9500,
      "step": 500,
      "default": 5000
    },
    {
      "type": "checkbox",
      "id": "show_dots",
      "label": "ドットナビゲーションを表示",
      "default": true
    },
    {
      "type": "header",
      "content": "表示オプション"
    },
    {
      "type": "checkbox",
      "id": "show_stats",
      "label": "統計情報を表示",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_cta",
      "label": "CTAボタンを表示",
      "default": true
    },
    {
      "type": "header",
      "content": "コールトゥアクション"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTAボタンのテキスト",
      "default": "すべての特徴を見る"
    },
    {
      "type": "select",
      "id": "cta_font_size",
      "label": "CTAボタンテキストサイズ",
      "options": [
        { "value": "small", "label": "小" },
        { "value": "medium", "label": "中" },
        { "value": "large", "label": "大" },
        { "value": "extra-large", "label": "特大" }
      ],
      "default": "medium"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "CTAボタンのリンク先"
    }
  ],
 }

{% endschema %}